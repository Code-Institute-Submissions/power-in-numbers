{% extends 'base.html' %} {% block content %}

<div class="title-container">
    <h1 class="text-center main-title">Power In Numbers</h1>
</div>
<div class="page-wrapper bg-light">
    <div class="page-container">
        <div>
            <h6 class="m-0 mb-1 p-0">Unit:</h6>
            <form action="{{ url_for('add_unit') }}" method="POST">
                <div class="row m-0 p-0">
                    <div class="col-12 col-md-11 m-0 p-0">
                        <div class="d-flex justify-content-center">
                            <select class="form-control mb-2" name="unit">
                                {% if unit == 'kg' %}
                                <option value="kg">kg</option>
                                <option value="lb">lb</option>
                                <option value="none">none</option>
                                {% elif unit == 'lb'%}
                                <option value="lb">lb</option>
                                <option value="kg">kg</option>
                                <option value="none">none</option>
                                {% else %}
                                <option value="none">none</option>
                                <option value="kg">kg</option>
                                <option value="lb">lb</option>
                                {% endif %}
                            </select>
                            <button class="btn ml-3 btn-dark unit-button" name="unit"><i
                                    class="fas fa-balance-scale text-light"></i></button>
                        </div>
                    </div>
                </div>
            </form>

            <p>Feel free to add your own training session! This page is designed to help people stay motivated, by
                letting
                them know there not alone. Create or start one for the many training plan's we have available. Think
                your the best? Find out by adding your personal best's and comparing them with others.</p>
            <hr>
            {% for session in sessions %}
            <div class="session-card my-3 p-2">
                <div class="row m-0 p-0">
                    <div class="col-6 pl-1 pr-2">
                        {% if session.session_type == 'Powerlifting' %}
                        <i class="fas fa-dumbbell float-right"></i>
                        {% elif session.session_type == 'Running' %}
                        <i class="fas fa-shoe-prints float-right"></i>
                        {% elif session.session_type == 'Body Weight' %}
                        <i class="fas fa-child float-right"></i>
                        {% elif session.session_type == 'Olympic Lifting' %}
                        <i class="fas fa-dumbbell float-right"></i>
                        {% endif %}
                        <h5><u>{{ loop.index }}. {{ session.first_name }}<span class="secondary-colour-text">
                                    {{ session.last_name }}</span></u></h5>
                        <div class="row m-0 p-0">
                            <div class="col-12 col-md-6 m-0 p-0">
                                <p class="m-0 p-0"><b>Age:</b> {{ session.age }}</p>
                                <p class="m-0 p-0"><b>Gender:</b> {{ session.gender }}</p>
                            </div>
                            <div class="col-12 col-md-6 m-0 p-0">
                                <div>
                                    {% if unit == 'kg'  %}{% if session.bw_unit == 'kg' %}
                                    <p class="m-0 p-0"><b>Body Weight:</b>
                                        <p class="check-number-float float-left">{{ session.body_weight | int }}</p> kg
                                    </p>
                                    {% endif %}
                                    {% if session.bw_unit == 'lb' %}
                                    <p class="m-0 p-0"><b>Body Weight:</b>
                                        <p class="check-number-float float-left">
                                            {{ session.body_weight | int * 10 / 22 }}</p>kg
                                    </p>
                                    {% endif %}
                                    {% elif unit == 'lb'  %}{% if session.bw_unit == 'lb' %}
                                    <p class="m-0 p-0"><b>Body Weight:</b>
                                        <p class="check-number-float float-left">{{ session.body_weight | int }}</p> lb
                                    </p>
                                    {% endif %}
                                    {% if session.bw_unit == 'kg' %}
                                    <p class="m-0 p-0"><b>Body Weight:</b>
                                        <p class="check-number-float float-left">
                                            {{ session.body_weight | int * 22 / 10 }}</p>lb
                                    </p>
                                    {% endif %}
                                    {% else %}
                                    <p class="m-0 p-0"><b>Body Weight:</b>
                                        <p class="check-number-float float-left">{{ session.body_weight | int }}</p>
                                        {{ session.bw_unit }}
                                    </p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 pr-0 border-left">
                        <i class="fas fa-edit float-right" data-toggle="collapse"
                            href="#{{ session.last_name }}{{ loop.index }}" role="button" aria-expanded="false"
                            aria-controls="collapseExample"></i>
                        <p class="m-0 mt-4"><b>Location:</b> {{ session.location }}</p>
                        <p class="m-0 p-0"><b>Date:</b> {{ session.date }}</p>
                        <div class="collapse d-none" id="{{ session.first_name }}">
                            <div class="card-body">
                                <h5>Motivated</h5>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar"
                                        style="width: {{ session.motivated | int * 10 }}%" aria-valuenow="75"
                                        aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <h5>Difficulty</h5>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-warning" role="progressbar"
                                        style="width: {{ session.difficulty | int * 10 }}%" aria-valuenow="75"
                                        aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <h5>Effort</h5>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-danger" role="progressbar"
                                        style="width: {{ session.effort | int * 10 }}%" aria-valuenow="100"
                                        aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row m-0 p-0 mx-2">
                    <div class="col-12 p-0 m-0">
                        <div class="collapse  mt-4" id="{{ session.first_name }}{{ loop.index }}">
                            <div class="card-body m-0 p-0">
                                <div class="d-flex justify-content-center">
                                    <table class="session-table container-fluid">
                                        <tr>
                                            <th>Exercise</th>
                                            <th>Sets / Reps</th>
                                            <th>Weight</th>
                                        </tr>
                                        {% if session.session_exercise_1 != null %}
                                        <tr>
                                            <td>{{ session.session_exercise_1 }}</td>
                                            <td>{{ session.session_sets_1 }}</td>
                                            <td>{{ session.session_weight_1 }}KG</td>
                                        </tr>
                                        {% endif %}
                                        {% if session.session_exercise_2 != null %}
                                        <tr>
                                            <td>{{ session.session_exercise_2 }}</td>
                                            <td>{{ session.session_sets_2 }}</td>
                                            <td>{{ session.session_weight_2 }}KG</td>
                                        </tr>
                                        {% endif %}
                                        {% if session.session_exercise_3 != null %}
                                        <tr>
                                            <td>{{ session.session_exercise_3 }}</td>
                                            <td>{{ session.session_sets_3 }}</td>
                                            <td>{{ session.session_weight_3 }}KG</td>
                                        </tr>
                                        {% endif %}
                                        {% if session.session_exercise_4 != null %}
                                        <tr>
                                            <td>{{ session.session_exercise_4 }}</td>
                                            <td>{{ session.session_sets_4 }}</td>
                                            <td>{{ session.session_weight_4 }}KG</td>
                                        </tr>
                                        {% endif %}
                                        {% if session.session_exercise_5 != null %}
                                        <tr>
                                            <td>{{ session.session_exercise_5 }}</td>
                                            <td>{{ session.session_sets_5 }}</td>
                                            <td>{{ session.session_weight_5 }}KG</td>
                                        </tr>
                                        {% endif %}
                                        {% if session.session_exercise_6 != null %}
                                        <tr>
                                            <td>{{ session.session_exercise_6 }}</td>
                                            <td>{{ session.session_sets_6 }}</td>
                                            <td>{{ session.session_weight_6 }}KG</td>
                                        </tr>
                                        {% endif %}
                                    </table>
                                </div>
                            </div>
                            <div class="card-body m-0 p-0 mt-3">
                                <h5>Motivated</h5>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar"
                                        style="width: {{ session.motivated | int * 10 }}%" aria-valuenow="75"
                                        aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <h5>Difficulty</h5>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-warning" role="progressbar"
                                        style="width: {{ session.difficulty | int * 10 }}%" aria-valuenow="75"
                                        aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                                <h5>Effort</h5>
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-danger" role="progressbar"
                                        style="width: {{ session.effort | int * 10 }}%" aria-valuenow="100"
                                        aria-valuemin="0" aria-valuemax="100">
                                    </div>
                                </div>
                            </div>
                            <p class="m-0 mt-4"><b>Session Type:</b> {{ session.session_type }}</p>
                            <p class="m-0"><b>Length:</b> {{ session.length_hour }} Hour(s) {{ session.length_min }}
                                Min(s)
                            </p>
                        </div>
                        <div class="row m-0 mt-3 p-0">
                            <div class="col-6 p-0">
                                <p><b>Notes:</b> {{ session.notes }}</p>
                            </div>
                            <div class="col-6 p-0">
                                <div class="row">
                                    <div class="col-12 col-md-9 m-0">
                                        <p class="m-0 p-0 ml-2"><small><b>Logged:</b> 12/01/2020 - 15:32</small></p>
                                    </div>
                                    <div class="col-12 col-md-3 m-0">
                                        <p>
                                            <a class="btn secondary-colour expand-button text-light border float-right"
                                                data-toggle="collapse" href="#{{ session.first_name }}{{ loop.index }}"
                                                role="button" aria-expanded="false" aria-controls="collapseExample">
                                                Expand
                                            </a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="collapse" id="{{ session.last_name }}{{ loop.index }}">
                            <div class="card card-body p-2 mt-2">
                                <a href="{{url_for('delete_session', session_id=session._id)}}"><button
                                        class="btn btn-danger container-fluid">Delete</button></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}